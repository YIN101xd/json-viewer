# 📊 JSON Viewer - 独立版使用说明

## 🎯 什么是独立版？

这是一个**单文件、纯前端**的JSON查看器，无需安装任何软件或依赖，只需要一个浏览器就能使用！

### ✨ 主要特点

- **🌐 纯前端**: 单个HTML文件，不需要后端服务器
- **🔒 数据安全**: 所有数据在本地处理，不上传到任何服务器
- **📦 即开即用**: 双击HTML文件即可在浏览器中打开
- **💾 易于分享**: 只需发送一个HTML文件给别人
- **🎨 功能完整**: 包含所有核心功能（上传、映射、展示）
- **📱 跨平台**: 支持Windows、Mac、Linux
- **🖱️ 拖拽上传**: 支持文件和文件夹拖拽
- **📂 批量处理**: 一次性上传多个JSON文件

## 🚀 快速开始

### 方法1: 直接使用（最简单）

1. **双击** `json_viewer_standalone.html` 文件
2. 浏览器会自动打开页面
3. 将JSON文件或包含JSON文件的文件夹拖到上传区域
4. 自动查看和分析！

### 方法2: 选择文件上传

1. 打开 `json_viewer_standalone.html`
2. 点击"📄 选择JSON文件"按钮
3. 选择一个或多个JSON文件
4. 查看结果

### 方法3: 选择文件夹上传

1. 打开 `json_viewer_standalone.html`
2. 点击"📁 选择文件夹"按钮
3. 选择包含JSON文件的文件夹
4. 所有JSON文件会自动加载

## 📖 详细功能说明

### 1. 文件上传

支持三种上传方式：

#### 🖱️ 拖拽上传（推荐）
- 直接将文件或文件夹拖到虚线区域
- 支持同时拖拽多个文件
- 自动递归扫描文件夹中的所有JSON文件

#### 📄 文件选择
- 点击"选择JSON文件"按钮
- 可以按住 Ctrl/Cmd 选择多个文件
- 只显示 .json 扩展名的文件

#### 📁 文件夹选择
- 点击"选择文件夹"按钮
- 选择包含JSON文件的文件夹
- 自动扫描所有子文件夹

### 2. 智能数据映射

上传的JSON文件会被自动分类和映射：

#### 📋 元数据 (Metadata)
自动识别以下字段：
- `uid`: 唯一标识符
- `case_id`: 案例ID
- `client_id`: 客户端ID
- `type`: 类型
- `category`: 分类
- `domain`: 领域信息（自动扁平化显示）
- `scene`: 场景信息（自动扁平化显示）

#### 📝 内容 (Content)
提取并美化显示：
- `prompt`: 提示词
- `example_answer_reference`: 参考答案
- `system_prompt`: 系统提示

每个内容字段显示：
- ✅ 完整内容（可展开/收起）
- ✅ 字符长度统计
- ✅ 100字符预览

#### 📊 评估标准 (Evaluation)
如果JSON包含 `rubrics` 数组，会显示：
- 评估编号
- 标签和二级标签（美化标签样式）
- 详细说明
- 权重值
- Model1 和 Model2 的评分（自动高亮：绿色=通过，红色=失败）
- 评分原因

#### 📈 统计信息 (Statistics)
自动统计：
- 评估标准总数
- 权重总和
- 标签分布统计（按类型分组计数）

### 3. 数据展示

#### 📊 统计仪表板
页面顶部显示三个关键指标：
- JSON文件总数
- 文件总大小
- 评估标准总数

#### 📁 文件列表
- 点击任意文件名快速跳转到详情
- 显示文件大小和修改时间
- 悬停效果和平滑动画

#### 📄 详细视图
每个文件的完整信息：
- 清晰的分类展示
- 表格化的评估标准
- 可展开/收起的长文本
- 响应式布局

### 4. 交互功能

#### 🔍 内容展开/收起
- 点击"展开完整内容"按钮查看全文
- 再次点击收起内容
- 长文本自动滚动

#### 🎯 快速定位
- 点击文件列表中的文件名
- 自动平滑滚动到对应详情区域

#### 🗑️ 清除数据
- 点击"清除所有数据"按钮
- 一键重置，重新开始

## 🎨 界面特色

### 视觉设计
- 🌈 **渐变紫色主题**: 现代、专业、美观
- 🎴 **卡片式布局**: 清晰的信息层级
- 🔆 **悬停效果**: 提升交互体验
- 📐 **响应式设计**: 完美适配各种屏幕

### 数据展示
- 🏷️ **美化标签**: 圆角标签，配色协调
- ✅ **评分高亮**: 通过(绿)、失败(红)、其他(灰)
- 📊 **表格样式**: 斑马纹、悬停高亮
- 📈 **统计卡片**: 大号数字，清晰标签

## 💡 使用技巧

### 技巧1: 批量处理
```
1. 将所有JSON文件放在一个文件夹
2. 直接拖拽整个文件夹到上传区
3. 自动加载所有JSON文件
4. 一次性查看所有数据
```

### 技巧2: 快速分享
```
1. 将 json_viewer_standalone.html 文件发给同事
2. 对方双击打开即可使用
3. 无需任何安装或配置
4. 支持所有主流浏览器
```

### 技巧3: 离线使用
```
1. HTML文件不需要网络连接
2. 下载到本地即可永久使用
3. 数据完全本地处理，隐私安全
```

### 技巧4: 移动设备
```
1. 响应式设计支持手机和平板
2. 可以通过云盘分享HTML文件
3. 在移动浏览器中打开使用
```

## 🔧 浏览器支持

### ✅ 完全支持
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- Opera 76+

### ⚠️ 部分支持
- 较老版本的浏览器可能不支持文件夹上传
- 建议使用最新版浏览器以获得最佳体验

## 📦 分享给他人

### 方法1: 直接发送文件
```
1. 将 json_viewer_standalone.html 通过邮件/聊天工具发送
2. 接收者双击打开即可使用
3. 无需任何额外说明
```

### 方法2: 云盘分享
```
1. 上传到网盘（如百度网盘、OneDrive等）
2. 生成分享链接
3. 他人下载后直接使用
```

### 方法3: 内网部署
```
1. 放在公司内网服务器
2. 通过浏览器访问 http://server/json_viewer_standalone.html
3. 团队成员都可以使用
```

## 🛡️ 隐私和安全

### ✅ 数据安全承诺

1. **本地处理**: 所有数据在您的浏览器中处理，不上传到任何服务器
2. **无网络请求**: HTML文件不包含任何外部资源引用
3. **即用即走**: 关闭页面后数据不会保留
4. **开源透明**: 您可以查看HTML源代码，确认没有数据传输

### 🔒 适用场景

- ✅ 查看敏感的测试数据
- ✅ 处理包含隐私信息的JSON
- ✅ 离线环境使用
- ✅ 内网环境部署

## ❓ 常见问题

### Q1: 为什么选择独立版？
**A**: 独立版只有一个HTML文件，无需安装Python或任何依赖，发给同事后对方可以直接使用，非常适合分享。

### Q2: 数据会上传到服务器吗？
**A**: 不会！所有数据处理都在您的浏览器中进行，完全离线工作，绝对安全。

### Q3: 可以处理多大的JSON文件？
**A**: 理论上没有限制，但非常大的文件（>50MB）可能会导致浏览器变慢。建议单个文件不超过10MB。

### Q4: 支持哪些JSON格式？
**A**: 支持所有标准的JSON格式。特别优化了包含 `rubrics` 评估数据的结构。

### Q5: 文件夹上传不工作怎么办？
**A**: 部分旧版浏览器不支持文件夹上传。请更新浏览器或改用文件选择方式。

### Q6: 可以自定义界面吗？
**A**: 可以！HTML文件中的 `<style>` 标签内包含所有样式代码，您可以修改颜色、字体等。

### Q7: 能导出处理结果吗？
**A**: 当前版本不支持导出。如需此功能，可以使用浏览器的"打印 → 保存为PDF"功能。

### Q8: 多个文件的数据会混在一起吗？
**A**: 不会。每个文件的数据都是独立展示的，清晰分隔。

## 🎓 高级用法

### 自定义样式

打开HTML文件，找到 `<style>` 标签，修改CSS：

```css
/* 修改主题颜色 */
background: linear-gradient(135deg, #你的颜色1, #你的颜色2);

/* 修改字体 */
font-family: "你喜欢的字体", sans-serif;

/* 修改卡片圆角 */
border-radius: 20px; /* 改为更大的值 */
```

### 添加自定义映射

找到 `autoMapping` 函数，添加您自己的映射逻辑：

```javascript
function autoMapping(jsonData) {
    // ... 现有代码 ...

    // 添加自定义字段映射
    if (jsonData.your_custom_field) {
        mapped.custom = {
            field: jsonData.your_custom_field
        };
    }

    return mapped;
}
```

## 📊 对比版本

### Python版 vs 独立HTML版

| 特性 | Python版 | 独立HTML版 |
|------|---------|-----------|
| 安装需求 | 需要Python 3.7+ | 无需安装 |
| 依赖 | 标准库 | 无 |
| 启动方式 | 运行命令 | 双击文件 |
| 网络需求 | 本地服务器 | 无需网络 |
| 分享难度 | 需要对方有Python | 直接发送HTML |
| 适用场景 | 开发者本地使用 | 分享给任何人 |
| 数据安全 | 本地处理 | 本地处理 |
| 功能完整性 | ✅ | ✅ |
| 扩展性 | 容易扩展 | 需修改HTML |

**建议**:
- 开发者自用 → Python版
- 分享给他人 → 独立HTML版
- 批量自动化 → Python版
- 快速查看 → 独立HTML版

## 🔄 版本历史

### v2.0 (当前版本)
- ✅ 纯前端实现
- ✅ 支持文件和文件夹上传
- ✅ 支持拖拽上传
- ✅ 智能字段映射
- ✅ 响应式设计
- ✅ 批量处理

### 未来计划
- 🎯 导出为PDF
- 🎯 数据对比功能
- 🎯 搜索和过滤
- 🎯 主题切换
- 🎯 多语言支持

## 💬 反馈和建议

如果您有任何问题或建议，欢迎反馈！

---

**🎉 享受使用 JSON Viewer 独立版!**

**📄 文件名**: `json_viewer_standalone.html`
**📦 大小**: 约 40KB
**🌐 运行环境**: 任何现代浏览器
**🔒 隐私保护**: 100% 本地处理
**💰 费用**: 完全免费
